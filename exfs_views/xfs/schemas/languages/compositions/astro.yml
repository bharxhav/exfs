# =============================================================================
# Astro Productions
# =============================================================================
# Astro components compose HTML, CSS, JS/TS with a frontmatter section.
#
# A .astro file has:
#   ---          → Frontmatter (JS/TS)
#   ---
#   <style>      → CSS terminals
#   <script>     → Client JS
#   (template)   → HTML + JSX-like expressions
# =============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://exfs.org/schemas/languages/compositions/astro"
title: "Astro Productions"
description: "Production capture rules for Astro components"

# -----------------------------------------------------------------------------
# Productions
# -----------------------------------------------------------------------------

productions:
  # Sections
  - frontmatter
  - script
  - style

  # JS/TS (composed from ts.yml)
  - imports
  - functions
  - variables
  - constants
  - arrows
  - calls

  # CSS (composed from css.yml)
  - rules
  - selectors
  - properties
  - media

  # HTML (composed from html.yml)
  - elements
  - attributes
  - text

  # Astro-specific
  - comments
  - expressions
  - components
  - slots

# -----------------------------------------------------------------------------
# Terminals
# -----------------------------------------------------------------------------

$defs:
  terminals:
    enum:
      # Sections
      - core.astro.frontmatter
      - core.astro.script
      - core.astro.style

      # JS/TS (composed)
      - core.astro.imports
      - core.astro.functions
      - core.astro.variables
      - core.astro.constants
      - core.astro.arrows
      - core.astro.calls

      # CSS (composed)
      - core.astro.rules
      - core.astro.selectors
      - core.astro.properties
      - core.astro.media

      # HTML (composed)
      - core.astro.elements
      - core.astro.attributes
      - core.astro.text

      # Astro-specific
      - core.astro.comments
      - core.astro.expressions
      - core.astro.components
      - core.astro.slots
