# =============================================================================
# Common Grammar Terminals
# =============================================================================
# Terminals that exist across most programming languages.
# Language-specific files (go.yml, python.yml) implement these.
#
# This is the "abstract" definition. Languages provide the "concrete".
# =============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://exfs.org/schemas/languages/grammar"
title: "Common Grammar"
description: "Terminals shared across programming languages"

# -----------------------------------------------------------------------------
# Common Terminals
# -----------------------------------------------------------------------------
# Most languages have these constructs, though syntax differs.
# -----------------------------------------------------------------------------

terminals:
  comments:
    description: "Code comments (single-line, multi-line, doc comments)"

  imports:
    description: "Import/include/require statements"

  functions:
    description: "Function/method definitions"

  types:
    description: "Type definitions (structs, classes, interfaces, enums)"

  constants:
    description: "Constant declarations"

  variables:
    description: "Variable declarations"

  # ---------------------------------------------------------------------------
  # Composite Terminals
  # ---------------------------------------------------------------------------
  # These combine multiple terminals into one capture.
  # ---------------------------------------------------------------------------

  declarations:
    description: "Both constants and variables"
    includes:
      - constants
      - variables
    # Usage: captures all declarations, or filter with 'only'
    #
    # Examples:
    #   decls:
    #     type: exfs.go.declarations           # both
    #
    #   decls:
    #     type: exfs.go.declarations
    #     only: [constants]                    # just constants
    #
    #   decls:
    #     type: exfs.go.declarations
    #     only: [variables]                    # just variables

# -----------------------------------------------------------------------------
# For Validation
# -----------------------------------------------------------------------------
# This enum lists the abstract terminal names (without language prefix).
# Language files define the full exfs.<lang>.<terminal> form.
# -----------------------------------------------------------------------------

$defs:
  base_terminals:
    enum:
      - comments
      - imports
      - functions
      - types
      - constants
      - variables
      - declarations
