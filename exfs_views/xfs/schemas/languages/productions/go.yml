# =============================================================================
# Go Productions
# =============================================================================
# Defines how to capture Go language productions.
# These are the concrete implementations of grammar terminals for Go.
# =============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://exfs.org/schemas/languages/productions/go"
title: "Go Productions"
description: "Production capture rules for Go source files"

# -----------------------------------------------------------------------------
# Productions
# -----------------------------------------------------------------------------

productions:
  comments:
    type: exfs.go.comments
    description: "Captures comments (// and /* */)"
    output: text

  imports:
    type: exfs.go.imports
    description: "Captures import statements"
    output: list

  functions:
    type: exfs.go.functions
    description: "Captures function definitions"
    output: list

  structs:
    type: exfs.go.structs
    description: "Captures struct definitions"
    output: list

  interfaces:
    type: exfs.go.interfaces
    description: "Captures interface definitions"
    output: list

  constants:
    type: exfs.go.constants
    description: "Captures const declarations"
    output: list

  variables:
    type: exfs.go.variables
    description: "Captures var declarations"
    output: list

  # Composite
  declarations:
    type: exfs.go.declarations
    description: "Captures both const and var declarations"
    output: list
    includes:
      - constants
      - variables

# -----------------------------------------------------------------------------
# For Validation
# -----------------------------------------------------------------------------

$defs:
  terminals:
    enum:
      - exfs.go.comments
      - exfs.go.imports
      - exfs.go.functions
      - exfs.go.structs
      - exfs.go.interfaces
      - exfs.go.constants
      - exfs.go.variables
      - exfs.go.declarations
