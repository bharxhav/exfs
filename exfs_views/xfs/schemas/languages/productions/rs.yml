# =============================================================================
# Rust Productions
# =============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://exfs.org/schemas/languages/productions/rs"
title: "Rust Productions"
description: "Production capture rules for Rust source files"

# -----------------------------------------------------------------------------
# Productions
# -----------------------------------------------------------------------------

productions:
  - comments    # // comment or /* block */
  - docs        # /// doc comment or //! inner doc
  - uses        # use std::io;
  - strings     # "hello" or r#"raw"#
  - variables   # let x = 1; or let mut x = 1;
  - constants   # const X: i32 = 1;
  - statics     # static X: i32 = 1;
  - macros      # println!() or macro_rules!
  - attributes  # #[derive(Debug)] or #![allow()]
  - types       # type Foo = Bar;
  - mods        # mod foo { }
  - functions   # fn foo() {}
  - structs     # struct Foo {}
  - enums       # enum Foo { A, B }
  - traits      # trait Foo {}
  - impls       # impl Foo for Bar {}
  - closures    # |x| x + 1 or move |x| x
  - calls       # foo()

# -----------------------------------------------------------------------------
# Terminals
# -----------------------------------------------------------------------------

$defs:
  terminals:
    enum:
      # Base
      - core.rs.comments
      - core.rs.docs
      - core.rs.uses
      - core.rs.strings
      - core.rs.variables
      - core.rs.constants
      - core.rs.statics
      - core.rs.macros
      - core.rs.attributes
      - core.rs.types
      - core.rs.mods
      - core.rs.functions
      - core.rs.structs
      - core.rs.enums
      - core.rs.traits
      - core.rs.impls
      - core.rs.closures
      - core.rs.calls

      # Modifiers
      - core.rs.variablesWithConstants
      - core.rs.functionsWithAsync
      - core.rs.functionsWithPrivate
      - core.rs.functionsWithDecorators
      - core.rs.functionsWithGenerics
      - core.rs.structsWithPrivate
      - core.rs.structsWithDecorators
      - core.rs.structsWithGenerics
