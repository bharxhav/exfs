# =============================================================================
# Shell Productions
# =============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://exfs.org/schemas/languages/productions/sh"
title: "Shell Productions"
description: "Production capture rules for Bash/Shell source files"

# -----------------------------------------------------------------------------
# Productions
# -----------------------------------------------------------------------------

productions:
  - comments      # # comment
  - variables     # X=1 or local x=1
  - exports       # export X=1
  - strings       # "hello" or 'hello'
  - heredocs      # <<EOF ... EOF or <<'EOF'
  - redirects     # > file or 2>&1 or >> append
  - functions     # foo() { } or function foo { }
  - commands      # ls -la or /usr/bin/foo
  - pipelines     # cmd1 | cmd2 | cmd3
  - conditionals  # if/then/else/fi or [[ ]]
  - loops         # for/while/until ... done
  - cases         # case $x in pattern) ;; esac

# -----------------------------------------------------------------------------
# Terminals
# -----------------------------------------------------------------------------

$defs:
  terminals:
    enum:
      # Base
      - core.sh.comments
      - core.sh.variables
      - core.sh.exports
      - core.sh.strings
      - core.sh.heredocs
      - core.sh.redirects
      - core.sh.functions
      - core.sh.commands
      - core.sh.pipelines
      - core.sh.conditionals
      - core.sh.loops
      - core.sh.cases

      # Modifiers
      - core.sh.variablesWithExported
