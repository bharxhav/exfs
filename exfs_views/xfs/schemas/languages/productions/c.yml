# =============================================================================
# C Productions
# =============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://exfs.org/schemas/languages/productions/c"
title: "C Productions"
description: "Production capture rules for C source files"

# -----------------------------------------------------------------------------
# Productions
# -----------------------------------------------------------------------------

productions:
  - comments      # // single or /* block */
  - includes      # #include <stdio.h> or #include "foo.h"
  - defines       # #define FOO 1 or #define MAX(a,b)
  - macros        # FOO(x) macro invocations
  - declarations  # int foo(int x); (forward decl)
  - variables     # int x = 1;
  - strings       # "hello"
  - typedefs      # typedef int MyInt;
  - functions     # int foo() { }
  - calls         # foo()
  - structs       # struct Foo { };
  - unions        # union Foo { };
  - enums         # enum Foo { A, B };

# -----------------------------------------------------------------------------
# Terminals
# -----------------------------------------------------------------------------

$defs:
  terminals:
    enum:
      # Base
      - core.c.comments
      - core.c.includes
      - core.c.defines
      - core.c.macros
      - core.c.declarations
      - core.c.variables
      - core.c.strings
      - core.c.typedefs
      - core.c.functions
      - core.c.calls
      - core.c.structs
      - core.c.unions
      - core.c.enums

      # Modifiers
      - core.c.variablesWithConstants
      - core.c.functionsWithStatic
