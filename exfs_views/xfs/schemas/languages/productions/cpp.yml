# =============================================================================
# C++ Productions
# =============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://exfs.org/schemas/languages/productions/cpp"
title: "C++ Productions"
description: "Production capture rules for C++ source files"

# -----------------------------------------------------------------------------
# Productions
# -----------------------------------------------------------------------------

productions:
  - comments    # // single or /* block */
  - includes    # #include <iostream> or #include "foo.h"
  - defines     # #define FOO 1
  - macros      # FOO(x) macro invocations
  - variables   # int x = 1; or auto x = 1;
  - strings     # "hello" or R"(raw)"
  - typedefs    # typedef int MyInt;
  - usings      # using namespace std; or using Foo = Bar;
  - functions   # int foo() { }
  - classes     # class Foo { };
  - structs     # struct Foo { };
  - namespaces  # namespace foo { }
  - templates   # template<typename T> ...
  - lambdas     # [](int x) { return x; }
  - enums       # enum Foo { }; or enum class Foo { };
  - calls       # foo() or obj.bar()

# -----------------------------------------------------------------------------
# Terminals
# -----------------------------------------------------------------------------

$defs:
  terminals:
    enum:
      # Base
      - core.cpp.comments
      - core.cpp.includes
      - core.cpp.defines
      - core.cpp.macros
      - core.cpp.variables
      - core.cpp.strings
      - core.cpp.typedefs
      - core.cpp.usings
      - core.cpp.functions
      - core.cpp.classes
      - core.cpp.structs
      - core.cpp.namespaces
      - core.cpp.templates
      - core.cpp.lambdas
      - core.cpp.enums
      - core.cpp.calls

      # Modifiers
      - core.cpp.variablesWithConstants
      - core.cpp.functionsWithPrivate
      - core.cpp.functionsWithGenerics
      - core.cpp.classesWithPrivate
      - core.cpp.classesWithGenerics
